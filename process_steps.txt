ðŸ§© What Youâ€™ll Build

Bare-metal firmware using libopencm3

Build with ARM GCC

Flash & debug using ST-LINK (onboard) via OpenOCD

Edit & debug inside VS Code

ðŸ§° Hardware & Software Required
Hardware

STMicroelectronics STM32 NUCLEO-F072RB

USB cable (Mini-USB for ST-LINK)

Software

Install these in order:

ARM Toolchain

GNU Arm Embedded Toolchain

Download: gcc-arm-none-eabi

Build Tools

Make (Windows: install via MSYS2 or Git Bash)

Debug / Flash

OpenOCD

ST-LINK drivers (Windows only)

IDE

Visual Studio Code

VS Code Extensions:

C/C++

Cortex-Debug

Makefile Tools

ðŸ“ Project Folder Structure
stm32-f072-libopencm3/
â”œâ”€â”€ libopencm3/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main.c
â”œâ”€â”€ Makefile
â””â”€â”€ .vscode/
    â”œâ”€â”€ launch.json
    â””â”€â”€ settings.json

    

ðŸ”§ Option 2: WSL (Ubuntu)

If you prefer Linux-style workflow:

wsl --install


Then inside Ubuntu:

sudo apt update
sudo apt install gcc-arm-none-eabi make git
git clone https://github.com/libopencm3/libopencm3.git
cd libopencm3
make


PS C:\Windows\system32> usbipd list
Connected:
BUSID  VID:PID    DEVICE                                                        STATE
1-2    0483:374b  ST-Link Debug, USB Mass Storage Device, STMicroelectronic...  Shared
1-5    05c8:03d2  HP TrueVision HD Camera                                       Not shared
1-10   0bda:b00c  Realtek Bluetooth 5 Adapter                                   Not shared

Persisted:
GUID                                  DEVICE

PS C:\Windows\system32> usbipd bind --busid 1-2
usbipd: info: Device with busid '1-2' was already shared.
PS C:\Windows\system32> usbipd attach --wsl --busid 1-2
usbipd: info: Using WSL distribution 'Ubuntu' to attach; the device will be available in all WSL 2 distributions.
usbipd: info: Loading vhci_hcd module.
usbipd: info: Detected networking mode 'nat'.
usbipd: info: Using IP address 172.31.0.1 to reach the host.